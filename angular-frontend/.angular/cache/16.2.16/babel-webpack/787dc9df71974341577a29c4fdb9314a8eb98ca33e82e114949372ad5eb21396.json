{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nlet FormularioService = /*#__PURE__*/(() => {\n  class FormularioService {\n    http;\n    apiUrl = 'http://localhost:5000/formulario';\n    constructor(http) {\n      this.http = http;\n    }\n    crearFormulario(formulario) {\n      const estructura = formulario.preguntas.map(p => ({\n        texto: p.textoPregunta || '',\n        tipo: p.tipoPregunta || 'texto',\n        categoria: p.categoria || 'general',\n        opciones: (p.opciones || []).map(o => o.textoOpcion?.trim()).filter(t => !!t)\n      }));\n      const payload = {\n        titulo: formulario.nombre || 'Formulario sin título',\n        descripcion: formulario.descripcion || '',\n        estructura_json: estructura\n      };\n      return this.http.post(`${this.apiUrl}/crear`, payload);\n    }\n    obtenerFormularios() {\n      return this.http.get(`${this.apiUrl}/formularios`);\n    }\n    enviarRespuestas(idFormulario, respuestas) {\n      return this.http.post(`${this.apiUrl}/responder/${idFormulario}`, {\n        respuestas_json: respuestas\n      });\n    }\n    obtenerRespuestas(idFormulario) {\n      return this.http.get(`${this.apiUrl}/respuestas/${idFormulario}`);\n    }\n    static ɵfac = function FormularioService_Factory(t) {\n      return new (t || FormularioService)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: FormularioService,\n      factory: FormularioService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return FormularioService;\n})();\nexport { FormularioService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}