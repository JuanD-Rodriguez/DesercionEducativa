{"ast":null,"code":"import { FormGroup, FormArray, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/core/services/formulario.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CrearFormularioComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55);\n    i0.ɵɵtext(1, \" Formulario guardado correctamente. Redirigiendo... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction CrearFormularioComponent_div_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" El nombre del formulario es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_div_92_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function CrearFormularioComponent_div_92_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const i_r7 = i0.ɵɵnextContext().index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.eliminarPregunta(i_r7));\n    });\n    i0.ɵɵelement(1, \"i\", 74);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_div_92_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵtext(1, \" El texto de la pregunta es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_div_92_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 75);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tipo_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", tipo_r15.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tipo_r15.nombre);\n  }\n}\nfunction CrearFormularioComponent_div_92_div_34_div_7_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function CrearFormularioComponent_div_92_div_34_div_7_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const j_r18 = i0.ɵɵnextContext().index;\n      const i_r7 = i0.ɵɵnextContext(2).index;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.eliminarOpcion(i_r7, j_r18));\n    });\n    i0.ɵɵelement(1, \"i\", 29);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_div_92_div_34_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80)(1, \"div\", 37);\n    i0.ɵɵelement(2, \"input\", 81);\n    i0.ɵɵtemplate(3, CrearFormularioComponent_div_92_div_34_div_7_button_3_Template, 2, 0, \"button\", 82);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const j_r18 = ctx.index;\n    const i_r7 = i0.ɵɵnextContext(2).index;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroupName\", j_r18);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.getOpciones(i_r7).length > 1);\n  }\n}\nfunction CrearFormularioComponent_div_92_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"div\", 77)(2, \"h4\");\n    i0.ɵɵtext(3, \"Opciones de respuesta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 78);\n    i0.ɵɵlistener(\"click\", function CrearFormularioComponent_div_92_div_34_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const i_r7 = i0.ɵɵnextContext().index;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.agregarOpcion(i_r7));\n    });\n    i0.ɵɵelement(5, \"i\", 48);\n    i0.ɵɵtext(6, \" A\\u00F1adir opci\\u00F3n \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CrearFormularioComponent_div_92_div_34_div_7_Template, 4, 2, \"div\", 79);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r7 = i0.ɵɵnextContext().index;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.getOpciones(i_r7).controls);\n  }\n}\nconst _c0 = function () {\n  return [\"opciones_multiple\", \"opcion\", \"opcion_unica\", \"desplegable\"];\n};\nfunction CrearFormularioComponent_div_92_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"div\", 59)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CrearFormularioComponent_div_92_button_4_Template, 2, 0, \"button\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 37)(6, \"label\", 61);\n    i0.ɵɵtext(7, \"Texto de la pregunta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 62);\n    i0.ɵɵtemplate(9, CrearFormularioComponent_div_92_div_9_Template, 2, 0, \"div\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 37)(11, \"label\", 61);\n    i0.ɵɵtext(12, \"Tipo de pregunta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"select\", 63);\n    i0.ɵɵlistener(\"change\", function CrearFormularioComponent_div_92_Template_select_change_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const i_r7 = restoredCtx.index;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.cambioTipoPregunta(i_r7));\n    });\n    i0.ɵɵtemplate(14, CrearFormularioComponent_div_92_option_14_Template, 2, 2, \"option\", 64);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 37)(16, \"label\", 61);\n    i0.ɵɵtext(17, \"Categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"select\", 65)(19, \"option\", 66);\n    i0.ɵɵtext(20, \"Acad\\u00E9mico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"option\", 67);\n    i0.ɵɵtext(22, \"Personal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"option\", 68);\n    i0.ɵɵtext(24, \"Familiar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"option\", 69);\n    i0.ɵɵtext(26, \"Econ\\u00F3mico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"option\", 70);\n    i0.ɵɵtext(28, \"Institucional\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 37)(30, \"label\", 43);\n    i0.ɵɵelement(31, \"input\", 71);\n    i0.ɵɵelementStart(32, \"span\");\n    i0.ɵɵtext(33, \"Pregunta obligatoria\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(34, CrearFormularioComponent_div_92_div_34_Template, 8, 1, \"div\", 72);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pregunta_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_5_0;\n    let tmp_11_0;\n    i0.ɵɵproperty(\"formGroupName\", i_r7);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Pregunta \", i_r7 + 1, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.preguntas.length > 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", \"pregunta-texto-\" + i_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"pregunta-texto-\" + i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = pregunta_r6.get(\"textoPregunta\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = pregunta_r6.get(\"textoPregunta\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", \"pregunta-tipo-\" + i_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"pregunta-tipo-\" + i_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.tiposDePregunta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", \"pregunta-categoria-\" + i_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"pregunta-categoria-\" + i_r7);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction0(12, _c0).includes((tmp_11_0 = pregunta_r6.get(\"tipoPregunta\")) == null ? null : tmp_11_0.value));\n  }\n}\nfunction CrearFormularioComponent_span_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Guardar formulario\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CrearFormularioComponent_span_98_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Guardando...\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function () {\n  return [\"/gestor\"];\n};\nconst _c2 = function () {\n  return [\"/gestor/estudiantes\"];\n};\nconst _c3 = function () {\n  return [\"/gestor/formularios\"];\n};\nconst _c4 = function () {\n  return [\"/gestor/reportes\"];\n};\nconst _c5 = function () {\n  return [\"/gestor/mensajes\"];\n};\nlet CrearFormularioComponent = /*#__PURE__*/(() => {\n  class CrearFormularioComponent {\n    fb;\n    formularioService;\n    router;\n    formularioForm;\n    tiposDePregunta = [{\n      id: 'texto',\n      nombre: 'Campo de texto'\n    }, {\n      id: 'opciones_multiple',\n      nombre: 'Selector de opciones múltiples'\n    }, {\n      id: 'opcion',\n      nombre: 'Botones de opción'\n    }, {\n      id: 'opcion_unica',\n      nombre: 'Selector opción única'\n    }, {\n      id: 'area_texto',\n      nombre: 'Área de texto'\n    }, {\n      id: 'desplegable',\n      nombre: 'Selector desplegable'\n    }];\n    enviando = false;\n    exito = false;\n    error = '';\n    constructor(fb, formularioService, router) {\n      this.fb = fb;\n      this.formularioService = formularioService;\n      this.router = router;\n      this.formularioForm = this.fb.group({\n        nombre: ['Formulario de Deserción', Validators.required],\n        descripcion: ['Encuesta para identificar factores de deserción'],\n        activo: [true],\n        preguntas: this.fb.array([])\n      });\n    }\n    ngOnInit() {\n      // Añadir preguntas por defecto\n      this.agregarPregunta();\n    }\n    get preguntas() {\n      return this.formularioForm.get('preguntas');\n    }\n    agregarPregunta() {\n      const preguntaGroup = this.fb.group({\n        textoPregunta: ['', Validators.required],\n        tipoPregunta: ['texto', Validators.required],\n        obligatoria: [true],\n        categoria: ['academico'],\n        opciones: this.fb.array([])\n      });\n      this.preguntas.push(preguntaGroup);\n      // Si es un tipo de pregunta que necesita opciones, añadimos algunas por defecto\n      if (['opciones_multiple', 'opcion', 'opcion_unica', 'desplegable'].includes(preguntaGroup.get('tipoPregunta')?.value)) {\n        this.agregarOpcion(this.preguntas.length - 1);\n        this.agregarOpcion(this.preguntas.length - 1);\n      }\n    }\n    eliminarPregunta(index) {\n      this.preguntas.removeAt(index);\n    }\n    getOpciones(preguntaIndex) {\n      return this.preguntas.at(preguntaIndex).get('opciones');\n    }\n    agregarOpcion(preguntaIndex) {\n      const opcionesArray = this.preguntas.at(preguntaIndex).get('opciones');\n      opcionesArray.push(this.fb.group({\n        textoOpcion: ['', Validators.required],\n        valor: ['']\n      }));\n    }\n    eliminarOpcion(preguntaIndex, opcionIndex) {\n      const opcionesArray = this.preguntas.at(preguntaIndex).get('opciones');\n      opcionesArray.removeAt(opcionIndex);\n    }\n    cambioTipoPregunta(preguntaIndex) {\n      const pregunta = this.preguntas.at(preguntaIndex);\n      const tipoPregunta = pregunta.get('tipoPregunta')?.value;\n      const opcionesArray = pregunta.get('opciones');\n      // Limpiar opciones existentes\n      while (opcionesArray.length > 0) {\n        opcionesArray.removeAt(0);\n      }\n      // Añadir opciones por defecto para tipos que las necesitan\n      if (['opciones_multiple', 'opcion', 'opcion_unica', 'desplegable'].includes(tipoPregunta)) {\n        this.agregarOpcion(preguntaIndex);\n        this.agregarOpcion(preguntaIndex);\n      }\n    }\n    guardarFormulario() {\n      if (this.formularioForm.valid) {\n        this.enviando = true;\n        this.error = '';\n        this.formularioService.crearFormulario(this.formularioForm.value).subscribe({\n          next: response => {\n            this.enviando = false;\n            this.exito = true;\n            // Navegar a la página de formularios después de 2 segundos\n            setTimeout(() => {\n              this.router.navigate(['/gestor/formularios']);\n            }, 2000);\n          },\n          error: error => {\n            this.enviando = false;\n            this.error = 'Error al guardar el formulario. Por favor, intenta nuevamente.';\n            console.error('Error en la creación del formulario:', error);\n          }\n        });\n      } else {\n        this.error = 'Por favor, completa todos los campos obligatorios.';\n        // Marcar todos los campos como touched para mostrar errores\n        this.marcarFormularioComoTouched(this.formularioForm);\n      }\n    }\n    marcarFormularioComoTouched(formGroup) {\n      Object.keys(formGroup.controls).forEach(key => {\n        const control = formGroup.get(key);\n        if (control instanceof FormGroup) {\n          this.marcarFormularioComoTouched(control);\n        } else if (control instanceof FormArray) {\n          for (let i = 0; i < control.length; i++) {\n            if (control.at(i) instanceof FormGroup) {\n              this.marcarFormularioComoTouched(control.at(i));\n            } else {\n              control.at(i).markAsTouched();\n            }\n          }\n        } else {\n          control?.markAsTouched();\n        }\n      });\n    }\n    cancelar() {\n      this.router.navigate(['/gestor/formularios']);\n    }\n    static ɵfac = function CrearFormularioComponent_Factory(t) {\n      return new (t || CrearFormularioComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FormularioService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CrearFormularioComponent,\n      selectors: [[\"app-crear-formulario\"]],\n      decls: 99,\n      vars: 21,\n      consts: [[1, \"gestor-layout\"], [1, \"sidebar\"], [1, \"logo-container\"], [\"src\", \"assets/logo_ucentral.png\", \"alt\", \"Logo Universidad Central\", 1, \"logo\"], [1, \"app-title\"], [1, \"menu-dots\"], [1, \"side-menu\"], [1, \"menu-item\"], [2, \"text-decoration\", \"none\", \"color\", \"inherit\", 3, \"routerLink\"], [1, \"icon-container\"], [\"src\", \"assets/icono-dashboard.svg\", \"alt\", \"Dashboard\"], [\"src\", \"assets/icono-estudiantes.svg\", \"alt\", \"Estudiantes\"], [1, \"menu-item\", \"active\"], [\"src\", \"assets/icono-formularios.svg\", \"alt\", \"Formularios\"], [\"src\", \"assets/icono-reportes.svg\", \"alt\", \"Reportes\"], [\"src\", \"assets/icono-mensajes.svg\", \"alt\", \"Mensajes\"], [1, \"sidebar-footer\"], [1, \"logout-btn\"], [1, \"fas\", \"fa-sign-out-alt\"], [1, \"main-content\"], [1, \"page-header\"], [1, \"header-content\"], [1, \"go-back\"], [1, \"back-button\", 3, \"routerLink\"], [1, \"fas\", \"fa-arrow-left\"], [1, \"header-actions\"], [1, \"save-btn\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-save\"], [1, \"cancel-btn\", 3, \"click\"], [1, \"fas\", \"fa-times\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [1, \"form-container\"], [3, \"formGroup\"], [1, \"form-section\"], [1, \"form-header\"], [1, \"form-basic-info\"], [1, \"form-group\"], [\"for\", \"nombre\"], [\"type\", \"text\", \"id\", \"nombre\", \"formControlName\", \"nombre\", 1, \"form-control\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"descripcion\"], [\"id\", \"descripcion\", \"formControlName\", \"descripcion\", \"rows\", \"3\", 1, \"form-control\"], [1, \"checkbox-label\"], [\"type\", \"checkbox\", \"formControlName\", \"activo\"], [\"formArrayName\", \"preguntas\", 1, \"questions-section\"], [1, \"section-header\"], [\"type\", \"button\", 1, \"add-btn\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"question-list\"], [\"class\", \"question-card\", 3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"cancel-btn\", 3, \"click\"], [\"type\", \"button\", 1, \"save-btn\", 3, \"disabled\", \"click\"], [4, \"ngIf\"], [1, \"alert\", \"alert-success\"], [1, \"alert\", \"alert-error\"], [1, \"error-message\"], [1, \"question-card\", 3, \"formGroupName\"], [1, \"question-header\"], [\"type\", \"button\", \"class\", \"remove-btn\", 3, \"click\", 4, \"ngIf\"], [3, \"for\"], [\"type\", \"text\", \"formControlName\", \"textoPregunta\", 1, \"form-control\", 3, \"id\"], [\"formControlName\", \"tipoPregunta\", 1, \"form-control\", 3, \"id\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"categoria\", 1, \"form-control\", 3, \"id\"], [\"value\", \"academico\"], [\"value\", \"personal\"], [\"value\", \"familiar\"], [\"value\", \"economico\"], [\"value\", \"institucional\"], [\"type\", \"checkbox\", \"formControlName\", \"obligatoria\"], [\"class\", \"options-container\", \"formArrayName\", \"opciones\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"remove-btn\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [3, \"value\"], [\"formArrayName\", \"opciones\", 1, \"options-container\"], [1, \"options-header\"], [\"type\", \"button\", 1, \"add-option-btn\", 3, \"click\"], [\"class\", \"option-item\", 3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [1, \"option-item\", 3, \"formGroupName\"], [\"type\", \"text\", \"formControlName\", \"textoOpcion\", \"placeholder\", \"Texto de la opci\\u00F3n\", 1, \"form-control\", \"option-text\"], [\"type\", \"button\", \"class\", \"remove-option-btn\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"remove-option-btn\", 3, \"click\"]],\n      template: function CrearFormularioComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"aside\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementStart(4, \"h1\", 4);\n          i0.ɵɵtext(5, \"APP UCENTRAL\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5);\n          i0.ɵɵtext(7, \"\\u2022\\u2022\\u2022\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"nav\", 6)(9, \"ul\")(10, \"li\", 7)(11, \"a\", 8)(12, \"div\", 9);\n          i0.ɵɵelement(13, \"img\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"span\");\n          i0.ɵɵtext(15, \"Dashboard\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"li\", 7)(17, \"a\", 8)(18, \"div\", 9);\n          i0.ɵɵelement(19, \"img\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"span\");\n          i0.ɵɵtext(21, \"Estudiantes\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"li\", 12)(23, \"a\", 8)(24, \"div\", 9);\n          i0.ɵɵelement(25, \"img\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"span\");\n          i0.ɵɵtext(27, \"Formularios\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(28, \"li\", 7)(29, \"a\", 8)(30, \"div\", 9);\n          i0.ɵɵelement(31, \"img\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"span\");\n          i0.ɵɵtext(33, \"Reportes\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(34, \"li\", 7)(35, \"a\", 8)(36, \"div\", 9);\n          i0.ɵɵelement(37, \"img\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"span\");\n          i0.ɵɵtext(39, \"Mensajes\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(40, \"div\", 16)(41, \"button\", 17);\n          i0.ɵɵelement(42, \"i\", 18);\n          i0.ɵɵtext(43, \" Cerrar sesi\\u00F3n \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(44, \"main\", 19)(45, \"header\", 20)(46, \"div\", 21)(47, \"div\", 22)(48, \"a\", 23);\n          i0.ɵɵelement(49, \"i\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"h1\");\n          i0.ɵɵtext(51, \"Creaci\\u00F3n de Formulario\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\", 25)(53, \"button\", 26);\n          i0.ɵɵlistener(\"click\", function CrearFormularioComponent_Template_button_click_53_listener() {\n            return ctx.guardarFormulario();\n          });\n          i0.ɵɵelement(54, \"i\", 27);\n          i0.ɵɵtext(55, \" Guardar formulario \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"button\", 28);\n          i0.ɵɵlistener(\"click\", function CrearFormularioComponent_Template_button_click_56_listener() {\n            return ctx.cancelar();\n          });\n          i0.ɵɵelement(57, \"i\", 29);\n          i0.ɵɵtext(58, \" Cancelar \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(59, CrearFormularioComponent_div_59_Template, 2, 0, \"div\", 30);\n          i0.ɵɵtemplate(60, CrearFormularioComponent_div_60_Template, 2, 1, \"div\", 31);\n          i0.ɵɵelementStart(61, \"div\", 32)(62, \"form\", 33)(63, \"div\", 34)(64, \"div\", 35)(65, \"h2\");\n          i0.ɵɵtext(66, \"CREACI\\u00D3N FORMULARIO\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"p\");\n          i0.ɵɵtext(68, \"Dise\\u00F1a un nuevo formulario para recopilar informaci\\u00F3n sobre deserci\\u00F3n estudiantil.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(69, \"div\", 36)(70, \"div\", 37)(71, \"label\", 38);\n          i0.ɵɵtext(72, \"Nombre del formulario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(73, \"input\", 39);\n          i0.ɵɵtemplate(74, CrearFormularioComponent_div_74_Template, 2, 0, \"div\", 40);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"div\", 37)(76, \"label\", 41);\n          i0.ɵɵtext(77, \"Descripci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(78, \"textarea\", 42);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(79, \"div\", 37)(80, \"label\", 43);\n          i0.ɵɵelement(81, \"input\", 44);\n          i0.ɵɵelementStart(82, \"span\");\n          i0.ɵɵtext(83, \"Formulario activo (disponible para estudiantes)\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(84, \"div\", 45)(85, \"div\", 46)(86, \"h2\");\n          i0.ɵɵtext(87, \"Preguntas del formulario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(88, \"button\", 47);\n          i0.ɵɵlistener(\"click\", function CrearFormularioComponent_Template_button_click_88_listener() {\n            return ctx.agregarPregunta();\n          });\n          i0.ɵɵelement(89, \"i\", 48);\n          i0.ɵɵtext(90, \" A\\u00F1adir pregunta \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(91, \"div\", 49);\n          i0.ɵɵtemplate(92, CrearFormularioComponent_div_92_Template, 35, 13, \"div\", 50);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(93, \"div\", 51)(94, \"button\", 52);\n          i0.ɵɵlistener(\"click\", function CrearFormularioComponent_Template_button_click_94_listener() {\n            return ctx.cancelar();\n          });\n          i0.ɵɵtext(95, \"Cancelar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(96, \"button\", 53);\n          i0.ɵɵlistener(\"click\", function CrearFormularioComponent_Template_button_click_96_listener() {\n            return ctx.guardarFormulario();\n          });\n          i0.ɵɵtemplate(97, CrearFormularioComponent_span_97_Template, 2, 0, \"span\", 54);\n          i0.ɵɵtemplate(98, CrearFormularioComponent_span_98_Template, 2, 0, \"span\", 54);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          let tmp_10_0;\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c1));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(16, _c2));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c3));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(18, _c4));\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(19, _c5));\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(20, _c3));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", ctx.enviando);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.exito);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.formularioForm);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.formularioForm.get(\"nombre\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.formularioForm.get(\"nombre\")) == null ? null : tmp_10_0.touched));\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngForOf\", ctx.preguntas.controls);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", ctx.enviando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.enviando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.enviando);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i3.RouterLink],\n      styles: [\".gestor-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#fff;box-shadow:2px 0 5px #0000001a;padding:20px 0;display:flex;flex-direction:column;position:relative}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 20px 20px;border-bottom:1px solid #f0f0f0}.logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.app-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin:0}.menu-dots[_ngcontent-%COMP%]{position:absolute;right:20px;font-size:20px;color:#333;font-weight:700}.side-menu[_ngcontent-%COMP%]{margin-top:20px;flex:1}.side-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 20px;cursor:pointer;transition:background-color .2s;position:relative}.menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.menu-item.active[_ngcontent-%COMP%]{background-color:#e6e8dc;border-left:4px solid #333}.icon-container[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:15px}.icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}.sidebar-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #f0f0f0}.logout-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#f5f5f5;color:#333;border:none;border-radius:5px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;font-size:14px;transition:background-color .2s}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.main-content[_ngcontent-%COMP%]{flex:1;padding:0;background-color:#f5f7f9;overflow-y:auto}.page-header[_ngcontent-%COMP%]{background-color:#fff;padding:20px 30px;box-shadow:0 2px 5px #0000000d;margin-bottom:20px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.go-back[_ngcontent-%COMP%]{display:flex;align-items:center}.back-button[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-right:15px;color:#333;text-decoration:none}.back-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:22px;color:#333}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:10px 15px;border-radius:5px;border:none;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background-color .2s}.save-btn[_ngcontent-%COMP%]{background-color:#333;color:#fff}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#555}.save-btn[_ngcontent-%COMP%]:disabled{background-color:#999;cursor:not-allowed}.cancel-btn[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:5px;margin:0 20px 20px;font-size:14px}.alert-success[_ngcontent-%COMP%]{background-color:#e6f4ea;color:#4caf50;border:1px solid #4caf50}.alert-error[_ngcontent-%COMP%]{background-color:#f5e8e8;color:#f44336;border:1px solid #f44336}.form-container[_ngcontent-%COMP%]{padding:0 20px 30px}.form-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 5px #0000000d;padding:25px;margin-bottom:20px}.form-header[_ngcontent-%COMP%]{margin-bottom:25px}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#333}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}.form-basic-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#555;margin-bottom:8px;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border:1px solid #ddd;border-radius:5px;font-size:14px;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#333}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:12px;margin-top:5px}.questions-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 5px #0000000d;padding:25px;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.add-btn[_ngcontent-%COMP%]{padding:8px 15px;background-color:#333;color:#fff;border:none;border-radius:5px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px}.add-btn[_ngcontent-%COMP%]:hover{background-color:#555}.question-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.question-card[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:8px;padding:20px;background-color:#f9f9f9}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.question-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333}.remove-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:4px;background-color:#f5e8e8;color:#f44336;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer}.remove-btn[_ngcontent-%COMP%]:hover{background-color:#fad0d0}.options-container[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px dashed #ddd}.options-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.options-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#555}.add-option-btn[_ngcontent-%COMP%]{padding:5px 10px;background-color:#f5f5f5;color:#333;border:none;border-radius:4px;font-size:12px;cursor:pointer;display:flex;align-items:center;gap:5px}.add-option-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.option-item[_ngcontent-%COMP%]{margin-bottom:10px}.option-text[_ngcontent-%COMP%]{flex:1}.option-item[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:10px}.remove-option-btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:4px;background-color:#f5f5f5;color:#666;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.remove-option-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:20px}@media (max-width: 768px){.gestor-layout[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;padding:10px}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}\"]\n    });\n  }\n  return CrearFormularioComponent;\n})();\nexport { CrearFormularioComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}